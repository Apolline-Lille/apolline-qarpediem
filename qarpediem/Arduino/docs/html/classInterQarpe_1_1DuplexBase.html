<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QARPEDIEM SensorBoard: InterQarpe::DuplexBase Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QARPEDIEM SensorBoard
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Sensor Board firmware for Arduino MEGA ADK</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>InterQarpe</b></li><li class="navelem"><a class="el" href="classInterQarpe_1_1DuplexBase.html">DuplexBase</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">InterQarpe::DuplexBase Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for InterQarpe::DuplexBase:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classInterQarpe_1_1DuplexBase.png" usemap="#InterQarpe::DuplexBase_map" alt=""/>
  <map id="InterQarpe::DuplexBase_map" name="InterQarpe::DuplexBase_map">
<area href="classQarpediem_1_1SensorServer.html" alt="Qarpediem::SensorServer" shape="rect" coords="0,56,159,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9b9fd5a27079a505aa8f1bcf465efc3c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInterQarpe_1_1DuplexBase.html#a9b9fd5a27079a505aa8f1bcf465efc3c">routine</a> (void)</td></tr>
<tr class="separator:a9b9fd5a27079a505aa8f1bcf465efc3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a734993799429420b6e0554c5afce074a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInterQarpe_1_1DuplexBase.html#a734993799429420b6e0554c5afce074a">is_connected</a> (void)</td></tr>
<tr class="separator:a734993799429420b6e0554c5afce074a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b3a0a47a6f8c3d6a50959484d118a51"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classInterQarpe_1_1QueryResult.html">QueryResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInterQarpe_1_1DuplexBase.html#a1b3a0a47a6f8c3d6a50959484d118a51">query</a> (const char *query)</td></tr>
<tr class="separator:a1b3a0a47a6f8c3d6a50959484d118a51"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ac4d378add5e8844c8e1de9a48caedc39"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInterQarpe_1_1DuplexBase.html#ac4d378add5e8844c8e1de9a48caedc39">send_response_ok</a> (void)</td></tr>
<tr class="separator:ac4d378add5e8844c8e1de9a48caedc39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dbd283fa8303c429eb1011fd01fcc16"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInterQarpe_1_1DuplexBase.html#a0dbd283fa8303c429eb1011fd01fcc16">send_response_error</a> (void)</td></tr>
<tr class="separator:a0dbd283fa8303c429eb1011fd01fcc16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7f5efac1989b9a1f9f45eb5f6127d80"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:aa7f5efac1989b9a1f9f45eb5f6127d80"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classInterQarpe_1_1DuplexBase.html#aa7f5efac1989b9a1f9f45eb5f6127d80">send_response_ok</a> (T data)</td></tr>
<tr class="separator:aa7f5efac1989b9a1f9f45eb5f6127d80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc6ffcbbcb8b9b078113f9132151528e"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:abc6ffcbbcb8b9b078113f9132151528e"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classInterQarpe_1_1DuplexBase.html#abc6ffcbbcb8b9b078113f9132151528e">send_response_error</a> (T data)</td></tr>
<tr class="separator:abc6ffcbbcb8b9b078113f9132151528e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a730b5db8ac250221b881a99d7ae5b8a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInterQarpe_1_1DuplexBase.html#a730b5db8ac250221b881a99d7ae5b8a0">send_badquery</a> (void)</td></tr>
<tr class="separator:a730b5db8ac250221b881a99d7ae5b8a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4acc79abc4ff57238ca7efc8eaa30064"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInterQarpe_1_1DuplexBase.html#a4acc79abc4ff57238ca7efc8eaa30064">on_query</a> (const char *<a class="el" href="classInterQarpe_1_1DuplexBase.html#a1b3a0a47a6f8c3d6a50959484d118a51">query</a>)</td></tr>
<tr class="separator:a4acc79abc4ff57238ca7efc8eaa30064"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a734993799429420b6e0554c5afce074a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a734993799429420b6e0554c5afce074a">&#9670;&nbsp;</a></span>is_connected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool DuplexBase::is_connected </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check if we have we are connected to the other device</p>
<dl class="section return"><dt>Returns</dt><dd>true if we have a valid connection with the other device </dd></dl>

</div>
</div>
<a id="a4acc79abc4ff57238ca7efc8eaa30064"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4acc79abc4ff57238ca7efc8eaa30064">&#9670;&nbsp;</a></span>on_query()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DuplexBase::on_query </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>query</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Hook that is called when a query is received </p>

</div>
</div>
<a id="a1b3a0a47a6f8c3d6a50959484d118a51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b3a0a47a6f8c3d6a50959484d118a51">&#9670;&nbsp;</a></span>query()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classInterQarpe_1_1QueryResult.html">QueryResult</a> DuplexBase::query </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>query</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a query to the other device. This function is blocking and will only return when we have a proper response to return (a.k.a response from the other device or timeout after the default duration without a response)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query</td><td>the query must be a 0-terminated string</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the query's result </dd></dl>

</div>
</div>
<a id="a9b9fd5a27079a505aa8f1bcf465efc3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b9fd5a27079a505aa8f1bcf465efc3c">&#9670;&nbsp;</a></span>routine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DuplexBase::routine </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Execute common task needed by the InterQarpe protocol to manage the connection. This function must be executed in order to receive packet. You may want to execute it in each iteration of your main loop. </p>

</div>
</div>
<a id="a730b5db8ac250221b881a99d7ae5b8a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a730b5db8ac250221b881a99d7ae5b8a0">&#9670;&nbsp;</a></span>send_badquery()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DuplexBase::send_badquery </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Signal to the other side that the query is not handled on our side </p>

</div>
</div>
<a id="a0dbd283fa8303c429eb1011fd01fcc16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dbd283fa8303c429eb1011fd01fcc16">&#9670;&nbsp;</a></span>send_response_error() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DuplexBase::send_response_error </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>send a "error" response without any data </p>

</div>
</div>
<a id="abc6ffcbbcb8b9b078113f9132151528e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc6ffcbbcb8b9b078113f9132151528e">&#9670;&nbsp;</a></span>send_response_error() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void InterQarpe::DuplexBase::send_response_error </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>send a "error" response to the other device</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>type of data to send </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac4d378add5e8844c8e1de9a48caedc39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4d378add5e8844c8e1de9a48caedc39">&#9670;&nbsp;</a></span>send_response_ok() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DuplexBase::send_response_ok </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>send a "ok" response without any data </p>

</div>
</div>
<a id="aa7f5efac1989b9a1f9f45eb5f6127d80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7f5efac1989b9a1f9f45eb5f6127d80">&#9670;&nbsp;</a></span>send_response_ok() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void InterQarpe::DuplexBase::send_response_ok </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>send a "ok" response to the other device</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>type of data to send </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>lib/InterQarpe/<a class="el" href="DuplexBase_8h_source.html">DuplexBase.h</a></li>
<li>lib/InterQarpe/DuplexBase.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
